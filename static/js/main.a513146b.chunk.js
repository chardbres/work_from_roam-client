(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,a){e.exports=a(60)},35:function(e,t,a){},36:function(e,t,a){},56:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(17),r=a.n(l),c=(a(35),a(2)),i=a(3),s=a(5),u=a(4),p=a(6),h=(a(36),a(21)),m=a.n(h),d=a(26),g=a(15),f=a.n(g),b=a(13),v=(a(56),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).setQuery=function(e){a.setState({query:e})},a.handleAutocompleteSelect=function(){var e=Object(d.a)(m.a.mark((function e(t){var n,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.geocodeByAddress)(t);case 2:return n=e.sent,e.next=5,Object(g.getLatLng)(n[0]);case 5:o=e.sent,a.props.setApp({coordinates:o}),a.props.setApp({placeData:n[0]});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={query:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(f.a,{value:this.state.query,onChange:this.setQuery,onSelect:this.handleAutocompleteSelect},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,l=e.loading;return o.a.createElement("div",{className:"search-bar"},o.a.createElement("input",Object.assign({style:{height:"40px",width:"100%",fontSize:"16px"}},t({placeholder:"Search Places ...",className:"location-search-input"}))),o.a.createElement("div",{className:"autocomplete-dropdown-container"},l&&o.a.createElement("div",null,"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return o.a.createElement("div",n(e,{className:t,style:a}),o.a.createElement("span",null,e.description))}))))}))}}]),t}(o.a.Component)),w=Object(b.GoogleApiWrapper)({apiKey:"AIzaSyBr0KBe6OYC3MKAmWh4nfTPQrCQT6ei-O8"})(v),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={test:!0},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"test component"),o.a.createElement("p",null,this.props.placeData.formatted_address),o.a.createElement("a",{href:"https://developers.google.com/maps/documentation/javascript/tutorial",target:"_blank"},o.a.createElement("button",null,"display link to create a review")),o.a.createElement("p",null,this.props.placeData.place_id))}}]),t}(o.a.Component),O=a(11),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).url="http://localhost:3000",a.executeTest=function(){console.log("test button")},a.state={test:!0},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){Object(g.geocodeByPlaceId)(this.props.placeId).then(console.log)}},{key:"render",value:function(){return o.a.createElement(O.a,null,o.a.createElement(O.b,{to:"/new/".concat(this.props.placeId)},o.a.createElement("button",null,"Add a Review")))}}]),t}(o.a.Component),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={test:!0},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="";return this.props.placeData&&!this.props.placeData.photos&&(e="https://1m19tt3pztls474q6z46fnk9-wpengine.netdna-ssl.com/wp-content/themes/unbound/images/No-Image-Found-400x264.png"),this.props.placeData&&this.props.placeData.photos&&(e=this.props.placeData.photos[0].getUrl()),this.props.placeData?o.a.createElement("div",null,o.a.createElement("img",{height:"200px",src:e}),o.a.createElement("h1",null,this.props.placeData.name),o.a.createElement("p",null,o.a.createElement("strong",null,"google place_id: "),this.props.placeData.reference||"unknown"),o.a.createElement(j,{placeId:this.props.placeData.reference})):o.a.createElement("div",null,o.a.createElement("h3",null,"Loading..."))}}]),t}(o.a.Component),C=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){console.log("found user location");var a=t.coords,n=a.latitude,o=a.longitude;e.setState({userLocation:{lat:n,lng:o},showMarker:!0})}))},e.onMarkerClick=function(t,a,n){e.setState({selectedMarker:a,showWindow:!0})},e.onInfoWindowClose=function(){e.setState({showWindow:!1})},e.showPOI=function(t,a){e.setState({poiLocation:{lat:a.latLng.lat(),lng:a.latLng.lng()},userLocation:{lat:a.latLng.lat(),lng:a.latLng.lng()},placeData:null});var n=new e.props.google.maps.places.PlacesService(t);console.log("service is:",n),n.getDetails({placeId:a.placeId,fields:["name","website","formatted_phone_number","formatted_address","photo","reference","reviews"]},(function(t,a){console.log(t),e.setState({placeData:t})}))},e.handleClick=function(t,a,n){n.placeId&&e.showPOI(a,n)},e.state={placeData:null,poiLocation:null,selectedMarker:null,showPoiWindow:!0,showMarker:!1,showWindow:!1,userLocation:""},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(b.Map,{google:this.props.google,center:this.state.userLocation,initialCenter:this.props.initialCenter,zoom:14,clickableIcons:!0,onClick:this.handleClick},o.a.createElement(b.InfoWindow,{position:this.state.poiLocation,visible:!0},o.a.createElement(k,{placeData:this.state.placeData})),o.a.createElement(b.Marker,{onClick:this.onMarkerClick,position:this.state.userLocation,name:"Current location"}),o.a.createElement(b.InfoWindow,{marker:this.state.selectedMarker,position:this.props.coordinates,visible:this.state.showWindow,onClose:this.onInfoWindowClose},o.a.createElement(E,{placeData:this.props.placeData})))}}]),t}(o.a.Component),y=Object(b.GoogleApiWrapper)({apiKey:"AIzaSyBr0KBe6OYC3MKAmWh4nfTPQrCQT6ei-O8"})(C),D=a(29),I=(a(59),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){console.log(e.target.value),console.log(e.target.name),a.setState(Object(D.a)({},e.target.name,e.target.value))},a.closeWindow=function(){a.setState({show:!1})},a.state={rating:3,review:"",show:!0},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="block";return this.state.show||(e="none"),o.a.createElement(O.a,null,o.a.createElement("div",{className:"review-form",style:{display:e}},o.a.createElement(O.b,{to:"/"},o.a.createElement("button",{style:{float:"right"},onClick:this.closeWindow},"Close")),o.a.createElement("h1",null," Review "),o.a.createElement("form",null,o.a.createElement("label",null," Rating: "),o.a.createElement("input",{name:"rating",type:"range",min:"0",max:"5",value:this.state.rating,onChange:this.handleChange}),o.a.createElement("p",null,this.state.rating),o.a.createElement("label",null," Review: "),o.a.createElement("textarea",{name:"review",value:this.state.review,onChange:this.handleChange}),o.a.createElement("button",null," Submit "))))}}]),t}(o.a.Component)),S=a(12),L=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={coordinates:{lat:null,lng:null},placeData:"",userLocation:{lat:42.3601,lng:-71.0589}},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(O.a,null,o.a.createElement(S.a,{path:"/new/:placeId"},o.a.createElement(I,null)),o.a.createElement(S.a,{path:"/"},o.a.createElement("div",{className:"App"},o.a.createElement(w,{setApp:this.setState.bind(this)}),o.a.createElement(y,{initialCenter:this.state.userLocation,coordinates:this.state.coordinates,placeData:this.state.placeData}))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.a513146b.chunk.js.map